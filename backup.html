<!DOCTYPE html>
<html>
    <head lang="en">
        <title>Call  Sensor</title>
    </head>
    <script>
        document.addEventListener('DOMContentLoaded',function (){
        document.querySelector('form').onsubmit = function (){
        fetch("https://midterm-exam-010723313-2022.herokuapp.com/device?sensor_type=level-transducer")
        .then(response => response.json())
        .then(data => {
            const Sensor = document.querySelector('#Sensor').value;
            document.querySelector('#Sensor').value ='';
            const Name = 'name:' + " " + data[Sensor].name;
            const Type = 'type:' + " " + data[Sensor].type;
            const Unit = 'unit:' + " " + data[Sensor].unit;
            const Range = 'range:' + " " + data[Sensor].range;
            const Plantsite = 'plant-site:' + " " + data[Sensor]["plant-site"];
            if(Sensor !== undefined){
                document.querySelector('#result0').innerHTML = `${Name}.`;
                document.querySelector('#result1').innerHTML = `${Type}.`;
                document.querySelector('#result2').innerHTML = `${Unit}.`;
                document.querySelector('#result3').innerHTML = `${Range}.`;
                document.querySelector('#result4').innerHTML = `${Plantsite}.`;
            }
            else{
                document.querySelector('#result').innerHTML = "Error";
            }
        })
        .catch(error => {
            console.log('Error:', error);
        });
        return false;
    }
});
    </script>
    <body >
        <h1>Sensor type
        <form>
            sensor_id :<input id = "Sensor" type ="text" placholder = "Sensorinfo">
                         <input type = "submit"><br>
        </form>
    </h1>
        <div id = "result"></div>
        <div id = "result0"></div>
        <div id = "result1"></div>
        <div id = "result2"></div>
        <div id = "result3"></div>
        <div id = "result4"></div>
    </body>
</html>